<section class="page">
  <header class="head">
    <h1>Explorar juegos</h1>
    <span class="meta" *ngIf="total() !== null">{{ total() }} juegos</span>
  </header>

  <app-filters-bar
    [value]="filters()"
    (changed)="onFiltersChanged($event)">
  </app-filters-bar>

  <p class="muted" *ngIf="loading() && !games().length">Cargando juegos...</p>
  <p class="error" *ngIf="error()">{{ error() }}</p>

  <div class="empty" *ngIf="!loading() && !error() && !games().length">
    <div class="emptyTitle">No hay resultados</div>
    <div class="emptyMsg">Probá otra categoría o cambiá el orden.</div>
  </div>

  <div class="grid">
    <app-game-card
      *ngFor="let g of games(); let i = index; trackBy: trackById"
      [game]="g"
      [eager]="i < 4">
    </app-game-card>
  </div>

  <div appInfiniteScroll (reachedBottom)="onScrollBottom()"></div>

  <p class="muted" *ngIf="loading() && games().length">Cargando más...</p>
  <p class="muted end" *ngIf="noMore()">No hay más resultados</p>
</section>
